<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>experJS\ui\EXValidator.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/define.html">define</a></li>
            
                <li><a href="..&#x2F;classes/EX.html">EX</a></li>
            
                <li><a href="..&#x2F;classes/EXBrowser.html">EXBrowser</a></li>
            
                <li><a href="..&#x2F;classes/EXCheckBox.html">EXCheckBox</a></li>
            
                <li><a href="..&#x2F;classes/EXCheckBox.CheckBox.html">EXCheckBox.CheckBox</a></li>
            
                <li><a href="..&#x2F;classes/EXCompare.html">EXCompare</a></li>
            
                <li><a href="..&#x2F;classes/EXCookie.html">EXCookie</a></li>
            
                <li><a href="..&#x2F;classes/EXCustomEvent.html">EXCustomEvent</a></li>
            
                <li><a href="..&#x2F;classes/EXEasing.html">EXEasing</a></li>
            
                <li><a href="..&#x2F;classes/EXElement.html">EXElement</a></li>
            
                <li><a href="..&#x2F;classes/EXEvent.html">EXEvent</a></li>
            
                <li><a href="..&#x2F;classes/EXEventListener.html">EXEventListener</a></li>
            
                <li><a href="..&#x2F;classes/EXJsonLoader.html">EXJsonLoader</a></li>
            
                <li><a href="..&#x2F;classes/EXLoader.html">EXLoader</a></li>
            
                <li><a href="..&#x2F;classes/EXMath.html">EXMath</a></li>
            
                <li><a href="..&#x2F;classes/EXRadioButton.html">EXRadioButton</a></li>
            
                <li><a href="..&#x2F;classes/EXRadioButton.RadioButton.html">EXRadioButton.RadioButton</a></li>
            
                <li><a href="..&#x2F;classes/EXScrollViewY.html">EXScrollViewY</a></li>
            
                <li><a href="..&#x2F;classes/EXScrollViewY.UI_Bar.html">EXScrollViewY.UI_Bar</a></li>
            
                <li><a href="..&#x2F;classes/EXSelectBox.html">EXSelectBox</a></li>
            
                <li><a href="..&#x2F;classes/EXSelectBox.SelectBox.html">EXSelectBox.SelectBox</a></li>
            
                <li><a href="..&#x2F;classes/EXSelectBox.SelectBoxOption.html">EXSelectBox.SelectBoxOption</a></li>
            
                <li><a href="..&#x2F;classes/EXSelectBox.SelectBoxOptionGroup.html">EXSelectBox.SelectBoxOptionGroup</a></li>
            
                <li><a href="..&#x2F;classes/EXString.html">EXString</a></li>
            
                <li><a href="..&#x2F;classes/EXTextLoader.html">EXTextLoader</a></li>
            
                <li><a href="..&#x2F;classes/EXTimer.html">EXTimer</a></li>
            
                <li><a href="..&#x2F;classes/EXTiming.html">EXTiming</a></li>
            
                <li><a href="..&#x2F;classes/EXToast.html">EXToast</a></li>
            
                <li><a href="..&#x2F;classes/EXTransform.html">EXTransform</a></li>
            
                <li><a href="..&#x2F;classes/EXTween.html">EXTween</a></li>
            
                <li><a href="..&#x2F;classes/EXURLRequest.html">EXURLRequest</a></li>
            
                <li><a href="..&#x2F;classes/EXValidator.html">EXValidator</a></li>
            
                <li><a href="..&#x2F;classes/EXXmlLoader.html">EXXmlLoader</a></li>
            
                <li><a href="..&#x2F;classes/require.html">require</a></li>
            
                <li><a href="..&#x2F;classes/requirejs.html">requirejs</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: experJS\ui\EXValidator.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
define(function(require , exports){
	var EXToast = require(&quot;.&#x2F;EXToast&quot;);
	var EXEventListener = require(&quot;..&#x2F;events&#x2F;EXEventListener&quot;);
	var CssQuery = require(&quot;..&#x2F;vender&#x2F;CssQuery&quot;);

	&#x2F;**
	HTML input 객체의 type 별 검수를 합니다.
	@class EXValidator
	@constructor
	@example
		&lt;!DOCTYPE html&gt;
		&lt;html&gt;
		&lt;head&gt;
		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text&#x2F;html; charset=utf-8&quot; &#x2F;&gt;
		&lt;meta http-equiv=&quot;Content-Style-Type&quot; content=&quot;text&#x2F;css&quot; &#x2F;&gt;
		&lt;title&gt;&lt;&#x2F;title&gt;
		&lt;script type=&quot;text&#x2F;javascript&quot; src=&quot;..&#x2F;experJS&#x2F;experJS.js&quot;&gt;&lt;&#x2F;script&gt;
		&lt;script type=&quot;text&#x2F;javascript&quot;&gt;
		(function(){
			EX.includeBegin(&quot;..&#x2F;experJS&quot;);
			EX.include(&quot;ui&#x2F;EXValidator&quot;);
			EX.includeEnd();
			EX.ready(function(){
				EX.debug(&quot;EX.ready&quot; , &quot;callback&quot;);
				var messageChange = true;
				if(messageChange == true){
					EXValidator.message.ENG_ONLY							= &quot;영문 &lt;span class=\&quot;exValidateA\&quot;&gt;입력만 가능합니다.&lt;&#x2F;span&gt;&quot;;
					EXValidator.message.ENG_LOW_ONLY				= &quot;영문 소문자 &lt;span class=\&quot;exValidateA\&quot;&gt;입력만 가능합니다.&lt;&#x2F;span&gt;&quot;;
					EXValidator.message.ENG_UPER_ONLY				= &quot;영문 대문자 &lt;span class=\&quot;exValidateA\&quot;&gt;입력만 가능합니다.&lt;&#x2F;span&gt;&quot;;
					EXValidator.message.NUM_ONLY							= &quot;숫자 &lt;span class=\&quot;exValidateA\&quot;&gt;입력만 가능합니다.&lt;&#x2F;span&gt;&quot;;
					EXValidator.message.ENG_NUM_ONLY				= &quot;영문 또는 숫자 &lt;span class=\&quot;exValidateA\&quot;&gt;입력만 가능합니다.&lt;&#x2F;span&gt;&quot;;
					EXValidator.message.ENG_LOW_NUM_ONLY		= &quot;영문 소문자 또는 숫자 &lt;span class=\&quot;exValidateA\&quot;&gt;입력만 가능합니다.&lt;&#x2F;span&gt;&quot;;
					EXValidator.message.ENG_UPER_NUM_ONLY		= &quot;영문 대문자 또는 숫자 &lt;span class=\&quot;exValidateA\&quot;&gt;입력만 가능합니다.&lt;&#x2F;span&gt;&quot;;
				}
				EXValidator.initInputType();
			});
		})();
		&lt;&#x2F;script&gt;

		&lt;style type=&quot;text&#x2F;css&quot;&gt;
		body { font-family:&quot;돋움&quot;; font-size:0.8em; }
		.exValidateA { color:#bbbbbb; }
		&lt;&#x2F;style&gt;

		&lt;&#x2F;head&gt;
		&lt;body&gt;
			&lt;div&gt;
				&lt;br&#x2F;&gt;&lt;input data-experJS=&quot;inputType:eng&quot; type=&quot;text&quot; &#x2F;&gt; &lt;span&gt;eng&lt;&#x2F;span&gt;
				&lt;br&#x2F;&gt;&lt;input data-experJS=&quot;inputType:engLow&quot; type=&quot;text&quot; &#x2F;&gt; &lt;span&gt;engLow&lt;&#x2F;span&gt;
				&lt;br&#x2F;&gt;&lt;input data-experJS=&quot;inputType:engUper&quot; type=&quot;text&quot; &#x2F;&gt; &lt;span&gt;engUper&lt;&#x2F;span&gt;
				&lt;br&#x2F;&gt;&lt;input data-experJS=&quot;inputType:eng,num&quot; type=&quot;text&quot; &#x2F;&gt; &lt;span&gt;eng,num&lt;&#x2F;span&gt;
				&lt;br&#x2F;&gt;&lt;input data-experJS=&quot;inputType:engLow,num&quot; type=&quot;text&quot; &#x2F;&gt; &lt;span&gt;engLow,num&lt;&#x2F;span&gt;
				&lt;br&#x2F;&gt;&lt;input data-experJS=&quot;inputType:engUper,num&quot; type=&quot;text&quot; &#x2F;&gt; &lt;span&gt;engUper,num&lt;&#x2F;span&gt;
				&lt;br&#x2F;&gt;&lt;input data-experJS=&quot;inputType:num&quot; type=&quot;text&quot; &#x2F;&gt; &lt;span&gt;num&lt;&#x2F;span&gt;
			&lt;&#x2F;div&gt;
		&lt;&#x2F;body&gt;
		&lt;&#x2F;html&gt;
	*&#x2F;

	var DataOf = {
		EXPER_JS  : &quot;data-experJS&quot;
	};

	var PRVENT_CODES = [8,9,13,16,17,20,37,39,46,229];
	
	&#x2F;**
	EXValidator 의 inputType 별 분류명.
	@property inputTypeOf
	@type {Object}
	*&#x2F;
	exports.inputTypeOf = {
		ENG_ONLY							: &quot;ENG_ONLY&quot;
		, ENG_LOW_ONLY				: &quot;ENG_LOW_ONLY&quot;
		, ENG_UPER_ONLY				: &quot;ENG_UPER_ONLY&quot;
		, NUM_ONLY							: &quot;NUM_ONLY&quot;
		, ENG_NUM_ONLY					: &quot;ENG_NUM_ONLY&quot;
		, ENG_LOW_NUM_ONLY		: &quot;ENG_LOW_NUM_ONLY&quot;
		, ENG_UPER_NUM_ONLY		: &quot;ENG_UPER_NUM_ONLY&quot;
	};

	&#x2F;**
	EXValidator 의 inputType 별 정규식 패턴.
	@property inputPattern
	@type {Object}
	*&#x2F;
	exports.inputPattern = {
		ENG_ONLY							: &#x2F;^[a-zA-Z]$&#x2F;
		, ENG_LOW_ONLY				: &#x2F;^[a-z]$&#x2F;
		, ENG_UPER_ONLY				: &#x2F;^[A-Z]$&#x2F;
		, NUM_ONLY							: &#x2F;^[0-9]$&#x2F;
		, ENG_NUM_ONLY					: &#x2F;^[a-zA-Z0-9]$&#x2F;
		, ENG_LOW_NUM_ONLY		: &#x2F;^[a-z0-9]$&#x2F;
		, ENG_UPER_NUM_ONLY		: &#x2F;^[A-Z0-9]$&#x2F;
	};
		
	&#x2F;**
	EXValidator 를 통과하지 못했을때 inputType 별 노출 메시지.
	@property message
	@type {Object}
	*&#x2F;
	exports.message = {
		ENG_ONLY							: &quot;영문 입력만 가능합니다.&quot;
		, ENG_LOW_ONLY				: &quot;영문 소문자 입력만 가능합니다.&quot;
		, ENG_UPER_ONLY				: &quot;영문 대문자 입력만 가능합니다.&quot;
		, NUM_ONLY							: &quot;숫자 입력만 가능합니다.&quot; 
		, ENG_NUM_ONLY					: &quot;영문 또는 숫자 입력만 가능합니다.&quot;
		, ENG_LOW_NUM_ONLY		: &quot;영문 소문자 또는 숫자 입력만 가능합니다.&quot;
		, ENG_UPER_NUM_ONLY		: &quot;영문 대문자 또는 숫자 입력만 가능합니다.&quot;
	};
	
	&#x2F;**
	EXValidator 의 inputType 체크를 시작합니다.
	@method initInputType
	@return {void}
	*&#x2F;
	exports.initInputType = function(){
		var inputs = CssQuery(&quot;input[type=text]&quot;);
		var len = inputs.length;
		var input = null;
		var inputTypeParse = null;
		for(var i = 0; i &lt; len ; i +=1 ){
			input = inputs[i];
			inputTypeParse = exports.getInputTypeParse( input )
			input.experjsInputTypePattern = inputTypeParse.pattern;
			input.experjsInputTypeOf = inputTypeParse.typeOf;
			EXEventListener.add( input , &quot;keydown&quot; , exports.inputTypeCheckHandler);
			EXEventListener.add( input , &quot;keypress&quot; , exports.inputTypeCheckHandler);
		}
	};

	&#x2F;**
	inputType 의 이벤트 체크 핸들러.
	@method inputTypeCheckHandler
	@param evt {EXEvent}
	@return {void}
	*&#x2F;
	exports.inputTypeCheckHandler = function(evt){
		var target = evt.currentTarget;
		var pattern = target.experjsInputTypePattern;
		var typeOf = target.experjsInputTypeOf;
		var keyCode;
		var codeChar;
		switch(evt.type){
			case &quot;keypress&quot; :
				keyCode = evt.charCode;
				codeChar = String.fromCharCode(keyCode);
				if(pattern.test(codeChar) == false){
					evt.preventDefault();
					exports.alternative( typeOf );
				}
				break;
			case &quot;keydown&quot; :
				keyCode = evt.keyCode;
				codeChar = String.fromCharCode(keyCode);
				if(pattern.test(codeChar) == false){
					if(keyCode &lt;= 65 &amp;&amp; keyCode &gt;= 97){
						if( exports.isPreventCode(keyCode) == false){
							evt.preventDefault();
							if( keyCode == 229){
								evt.preventDefault();
								exports.alternative( typeOf );
							}
						}
					}
				}
				break;
		}
	};

	&#x2F;**
	검수시 무시 되어야할 code 와 keyCode 를 비교하여 boolean 값을 반환합니다.
	@method isPreventCode
	@param code {integer} 검수시 무시되어야 할 keyCode 배열
	@return {boolean}
	*&#x2F;
	exports.isPreventCode = function(code){
		var isPrevent = false;
		var len = PRVENT_CODES.length;
		for(var i = 0 ; i &lt; len ; i +=1 ){
			if(PRVENT_CODES[i] == code){
				isPrevent = true;
				break;
			}
		}
		return isPrevent;
	};

	&#x2F;**
	지정된 typeOf 값의 message 를 EXToast 를 통해 노출합니다.
	@method alternative
	@param typeOf {String} EXToast 로 노출될 메세지 type
	@return {void}
	*&#x2F;
	exports.alternative = function(typeOf){
		EXToast.message( exports.message[typeOf] );
	};

	&#x2F;**
	지정된 target 객체의 속성을 분석하여 pattern, typeOf 프로퍼티를 할당합니다.
	@method getInputTypeParse
	@param target {HTMLElement} 속성을 분석할 객체.
	@return {void}
	*&#x2F;
	exports.getInputTypeParse = function( target ){
		var getInputType = target.getAttribute( DataOf.EXPER_JS );
		if(getInputType == null){
			return false;
		}
		var getType = getInputType.split(&quot;:&quot;)[1];
		var pattern = null;
		var typeOf = null;

		var hasNum = exports.hasType( target , [&quot;num&quot;] );
		if(hasNum == true){
			if( exports.hasType( target , [&quot;eng&quot;]) ){
				pattern = exports.inputPattern.ENG_NUM_ONLY;
				typeOf = exports.inputTypeOf.ENG_NUM_ONLY;
			}else if( exports.hasType( target , [&quot;engUper&quot;]) ){
				pattern = exports.inputPattern.ENG_UPER_NUM_ONLY;
				typeOf = exports.inputTypeOf.ENG_UPER_NUM_ONLY;
			}else if( exports.hasType( target , [&quot;engLow&quot;]) ){
				pattern = exports.inputPattern.ENG_LOW_NUM_ONLY;
				typeOf = exports.inputTypeOf.ENG_LOW_NUM_ONLY;
			}else{
				pattern = exports.inputPattern.NUM_ONLY;
				typeOf = exports.inputTypeOf.NUM_ONLY;
			}
		}else{
			if( exports.hasType( target , [&quot;eng&quot;]) ){
				pattern = exports.inputPattern.ENG_ONLY;
				typeOf = exports.inputTypeOf.ENG_ONLY;
			}else if( exports.hasType( target , [&quot;engUper&quot;]) ){
				pattern = exports.inputPattern.ENG_UPER_ONLY;
				typeOf = exports.inputTypeOf.ENG_UPER_ONLY;
			}else if( exports.hasType( target , [&quot;engLow&quot;]) ){
				pattern = exports.inputPattern.ENG_LOW_ONLY;
				typeOf = exports.inputTypeOf.ENG_LOW_ONLY;
			}
		}
		return { pattern: pattern , typeOf: typeOf };
	};

	&#x2F;**
	지정된 target 객체에 types 속성이 할당되어 있는지 확인하여 boolean 값으로 반환합니다.	
	@method hasType
	@param target {HTMLElement} 분석 대상이 될 객체
	@param types {String} 분석될 속성 값 배열
	@return {void}
	*&#x2F;
	exports.hasType = function( target , types){
		var getInputType = target.getAttribute( DataOf.EXPER_JS );
		var getTypes = getInputType.split(&quot;:&quot;)[1].split(&quot;,&quot;);
		var len = getTypes.length;
		var has = false;
		var typeLen = types.length;
		var k = 0;
		for(var i = 0 ; i &lt; len ; i++){
			for( k = 0 ; k &lt; typeLen ; k++){
				if(getTypes[i] == types[k]){
					has = true;
					break;
				}
			}
		}
		return has;
	};
	
	&#x2F;**
	지정된 target 객체에 types 속성이 할당되어있지 않은지 확인하여 boolean 값으로 반환합니다.	
	@method notHasType
	@param target {HTMLElement} 분석 대상이 될 객체
	@param types {String} 분석될 속성 값 배열
	@return {void}
	*&#x2F;
	exports.notHasType = function( target , types){
		var getInputType = target.getAttribute( DataOf.EXPER_JS );
		var getTypes = getInputType.split(&quot;:&quot;)[1].split(&quot;,&quot;);
		var len = getTypes.length;
		var has = true;
		var typeLen = types.length;
		var k = 0;
		for(var i = 0 ; i &lt; len ; i++){
			for( k = 0 ; k &lt; typeLen ; k++){
				if(getTypes[i] == types[k]){
					has = false;
					break;
				}
			}
		}
		return has;
	};
});
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
