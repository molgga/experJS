<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<link type="text/css" rel="stylesheet" href="../../experCSS/exper.css" />
<script type="text/javascript" src="../../experJS/experJS.js"></script>

<script type="text/javascript">
(function(){
	EX.includeBegin("../../experJS");
	EX.include("events/EXEventListener");
	EX.include("utils/EXMath");
	EX.include("utils/EXString");
	EX.include("ui/EXSelectBox");
	EX.includeEnd();
	EX.ready(function(){
		EXSelectBox.init(); // EXSelectBox initialize
	});
})();


function option1Change(){
	remakeSelectBox( document.getElementById("testSelectBox1") );
}
function option2Change(){
	remakeSelectBox( document.getElementById("testSelectBox2") );
}

function remakeSelectBox(selectBox){
	selectBox.innerHTML = "";
	var len = EXMath.getRandomToInt(1 , 10);
	var option = null;
	var charLen = 0;
	var optionChar = "";
	for(var i = 0 ; i < len ; i +=1 ){
		option = document.createElement("option");
		optionChar = "";
		charLen = EXMath.getRandomToInt(3 , 12);
		for(var k = 0 ; k < charLen ; k += 1){
			optionChar = optionChar + i.toString();
		}
		option.value = optionChar;
		option.innerHTML = optionChar;
		selectBox.appendChild(option);
	}
	EXSelectBox.remake(selectBox); // @param selectBox {HTMLSelectElement} 지정된 셀렉트 박스만 바꿈.
}

/**
incomplete support IE ~9
not support FireFox(2012.11.07) https://developer.mozilla.org/en-US/docs/Mozilla_event_reference
*/
function option4Abled(){
	var selectBox4 = document.getElementById("testSelectBox4");
	if(selectBox4.disabled == true){
		selectBox4.disabled = false;
	}else{
		selectBox4.disabled = true;
	}
	EXSelectBox.remake(selectBox4); // solution. remake selectbox :)
}

var toggleDestroy = false;
function toggleEXSelectBox(){
	if(toggleDestroy == true){
		EXSelectBox.init(); 
	}else{
		EXSelectBox.destroy(); 
	}
	toggleDestroy = !toggleDestroy;
}


function testSubmit(){
	var testForm = document.getElementById("testForm");
	document.charset = testForm.acceptCharset;
	testForm.submit();
}
</script>

<style type="text/css">
.exampleBox { padding:20px; border:1px dotted #999999; }
select.exUIKit_selectBox { visibility:visible !important; position:static  !important; left:0  !important; } /* for example */
</style>

</head>
<body>
	<div>
		<button onclick="option1Change()">selectBox1 option change&remake test</button>
		<button onclick="option2Change()">selectBox2 option change&remake test</button>
		<br/>
		<button onclick="option4Abled()" title="incomplete support IE ~9 and not support FireFox. But, i'm suggest solution in a source code">selectBox4 disabled test</button>
		<br/>
		<button onclick="toggleEXSelectBox()">toggle init&destroy test</button>
		<br/>
		<button onclick="testSubmit()">submit test</button>
	</div>

	<form id="testForm" accept-charset="utf-8">
		<div class="exampleBox">
			<select id="testSelectBox1" name="selectBox1" class="exUIKit_selectBox">
				<option class="op1">가</option>
				<option class="op2">나나</option>
				<option class="op3">다다다</option>
				<option class="op4">안녕하세요</option>
				<option class="op5">이윤석 입니다.</option>
			</select>
		</div>

		<div class="exampleBox">
			<select id="testSelectBox2" name="selectBox2" class="exUIKit_selectBox">
				<option>AA</option>
				<option>BBBB</option>
				<option>CCCCCC</option>
				<option>Hello javascript</option>
				<option>molgga</option>
			</select>
		</div>
		
		<div class="exampleBox">
			<select id="testSelectBox3" name="selectBox3" class="exUIKit_selectBox">
				<option>123</option>
				<option>456</option>
				<option selected="selected">7890</option>
			</select>
			<select id="testSelectBox4" name="selectBox4" class="exUIKit_selectBox" disabled="disabled">
				<option>11111111</option>
				<option>22222222</option>
				<option>3</option>
				<option>4</option>
				<option>5</option>
				<option>6</option>
				<option>7</option>
			</select>
		</div>
	</form>

</body>
</html>